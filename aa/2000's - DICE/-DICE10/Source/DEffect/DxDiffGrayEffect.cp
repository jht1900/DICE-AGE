// --------------------------------------------------------------------------------//// DiffGrayEffect -- gray image difference effect//// 2005.02.27 	jht		Created.//// Copyright (c) 2005 John Henry Thompson. All rights reserved.// --------------------------------------------------------------------------------#include "DxDiffGrayEffect.h"#include "dsImage.h"#include "DxImage.h"#include "dicejs.h"// --------------------------------------------------------------------------------DxDiffGrayEffect::DxDiffGrayEffect(void *wrapperObj )	: DxDiffEffect(wrapperObj ){}#if 0// --------------------------------------------------------------------------------DxDiffGrayEffect::~DxDiffGrayEffect(){}#endif// ---------------------------------------------------------------------------------void	DxDiffGrayEffect::ComputeImage(){	int	capPix;	int diffwPix;#define CODE_INNER_LOOP \	/* Show gray diff */ \	capPix = sourceLinePtr[0] + sourceLinePtr[1] + sourceLinePtr[2];   \	diffwPix = (previousLinePtr[0] + previousLinePtr[1] + previousLinePtr[2]) - capPix;  \	if (diffwPix < 0) \		diffwPix = 0; \	outputLinePtr[0] = outputLinePtr[1] = outputLinePtr[2] = (diffwPix/3); \#include "DiffEffectLoop.inc"}// --------------------------------------------------------------------------------// --------------------------------------------------------------------------------