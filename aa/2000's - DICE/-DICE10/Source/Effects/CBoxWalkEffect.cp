/* Box Walk Effect.History:Copyright © 2001 John Henry Thompson. All rights reserved.2001.07.14	jht	Created.*/#include "CBoxWalkEffect.h"#include "CCapturePane.h"// ---------------------------------------------------------------------------------/*  */CBoxWalkEffect::CBoxWalkEffect(){	sizeLow = 4;		sizeHi = 16;		size = 8;	margin = 8;		locH = margin ;	locV = margin ;}	// ---------------------------------------------------------------------------------/*  */void	CBoxWalkEffect::Step(CCapturePane *myPane){	// Walk box dh, dv	Rect	curRect;	int		wid;	int		hi;		myPane->CalcPortFrameRect( curRect );		wid = curRect.right - curRect.left;	hi = curRect.bottom - curRect.top;	wid = wid / size - margin;	hi = hi / size - margin;		#if 1	myPane->drawRect.left = locH;	myPane->drawRect.right = myPane->drawRect.left + wid;	myPane->drawRect.top = locV;	myPane->drawRect.bottom = myPane->drawRect.top + hi;	#endif	#if 0	outRect.left = locH;	outRect.right = outRect.left + wid;	outRect.top = locV;	outRect.bottom = outRect.top + hi;	#endif 		locH += wid + margin;	if (locH > curRect.right)	{		locH = margin;		locV += hi + margin;		if (locV > curRect.bottom)		{			locV = margin;		}	}	#if 0	// Randomly drop down a box, not very interesting	int		m2, m, h, v, wid, hi;	Rect	curRect;		m2 = (Random()&0x7FFF) % size;	m = 1 << m2;	h = Random() & (m-1);	v = Random() & (m-1);		myPane->CalcPortFrameRect( curRect );	wid = curRect.right - curRect.left;	hi = curRect.bottom - curRect.top;	wid = wid / m;	hi = hi / m;		myPane->drawRect.left = wid * h;	myPane->drawRect.right = myPane->drawRect.left + wid;	myPane->drawRect.top = hi * v;	myPane->drawRect.bottom = myPane->drawRect.top + hi;#endif}// ---------------------------------------------------------------------------------// ---------------------------------------------------------------------------------